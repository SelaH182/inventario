<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Editar Equipo Biomédico</title>
</head>
<body>
    <h2>Editar Equipo Biomédico</h2>

    <form method="POST" action="{{ url_for('editar_equipo', id=equipo.id) }}" enctype="multipart/form-data">

        <!-- Sección: Datos del Equipo -->
        <fieldset>
            <legend><strong>Datos del Equipo</strong></legend>

            <label>Número de Equipo:</label>
            <input type="text" name="numero_equipo" value="{{ equipo.numero_equipo }}" required><br>

            <label>Nombre del Equipo:</label>
            <input type="text" name="nombre_equipo" value="{{ equipo.nombre_equipo }}" required><br>

            <label>Serie:</label>
            <input type="text" name="serie" value="{{ equipo.serie }}" required><br>

            <label>Marca:</label>
            <input type="text" name="marca" value="{{ equipo.marca }}" required><br>

            <label>Modelo:</label>
            <input type="text" name="modelo" value="{{ equipo.modelo }}" required><br>

            <label>Ubicación:</label>
            <input type="text" name="ubicacion" value="{{ equipo.ubicacion }}" required><br>

            <label>Registro Invima:</label>
            <input type="text" name="registro_invima" value="{{ equipo.registro_invima }}"><br>

            <label>Calibración:</label>
            <input type="text" name="calibracion" value="{{ equipo.calibracion }}"><br>

            <label>Observaciones:</label>
            <textarea name="observaciones">{{ equipo.observaciones }}</textarea><br>

            <label>Insumos:</label>
            <input type="text" name="insumos" value="{{ equipo.insumos }}"><br>

            <label>Responsable compra insumos:</label>
            <input type="text" name="responsable_compra_insumos" value="{{ equipo.responsable_compra_insumos }}"><br>
            
            <label>Costo de insumos:</label>
            <input type="number" step="0.01" min="0" name="costo_insumo" value="{{ equipo.costo_insumo }}"><br>

            <label>Fecha de compra de insumos:</label>
            <input type="date" name="fecha_compra_insumos" value="{{ equipo.fecha_fecha_compra_insumos }}"><br>
        </fieldset>

        <br>

        <!-- Sección: Documentación Adjunta -->
        <fieldset>
            <legend><strong>Documentación Adjunta</strong></legend>

            <label>Hoja de Vida (PDF):</label>
            <input type="file" name="hoja_vida"><br>
            {% if equipo.hoja_vida %}
                <small>Actual: {{ equipo.hoja_vida }}</small><br>
            {% endif %}

            <label>Manuales (PDF):</label>
            <input type="file" name="manuales"><br>
            {% if equipo.manuales %}
                <small>Actual: {{ equipo.manuales }}</small><br>
            {% endif %}

            <label>Factura (PDF):</label>
            <input type="file" name="factura"><br>
            {% if equipo.factura %}
                <small>Actual: {{ equipo.factura }}</small><br>
            {% endif %}
        </fieldset>

        <br>

        <!-- Sección: Datos de Mantenimiento -->
        <fieldset>
            <legend><strong>Datos de Mantenimiento</strong></legend>

            <label>Costo Mantenimiento Preventivo:</label>
            <input type="number" step="0.01" min="0" name="mantenimiento_preventivo" value="{{ equipo.mantenimiento_preventivo }}"><br>

            <label>Fecha Mantenimiento Preventivo:</label>
            <input type="date" name="fecha_mantenimiento_preventivo" value="{{ equipo.fecha_mantenimiento_preventivo }}"><br>

            <label>Responsable Mantenimiento Preventivo:</label>
            <input type="text" name="responsable_mantenimiento_preventivo" value="{{ equipo.responsable_mantenimiento_preventivo }}"><br>

            <label>Fecha Próximo Mantenimiento Preventivo:</label>
            <input type="date" name="fecha_proximo_mantenimiento_preventivo" value="{{ equipo.fecha_proximo_mantenimiento_preventivo }}"><br>

            <hr>

            <label>Costo Mantenimiento Correctivo:</label>
            <input type="number" step="0.01" min="0" name="mantenimiento_correctivo" value="{{ equipo.mantenimiento_correctivo }}"><br>

            <label>Fecha Mantenimiento Correctivo:</label>
            <input type="date" name="fecha_mantenimiento_correctivo" value="{{ equipo.fecha_mantenimiento_correctivo }}"><br>

            <label>Responsable Mantenimiento Correctivo:</label>
            <input type="text" name="responsable_mantenimiento_correctivo" value="{{ equipo.responsable_mantenimiento_correctivo }}"><br>

            <label>Fecha Nuevo Mantenimiento Correctivo:</label>
            <input type="date" name="fecha_nuevo_mantenimiento_correctivo" value="{{ equipo.fecha_nuevo_mantenimiento_correctivo }}"><br>
        </fieldset>

        <br>

        <button type="submit">Guardar Cambios</button>
    </form>

    <br>
    <a href="{{ url_for('listar_equipos') }}">Volver a la Lista de Equipos</a>
</body>
</html>
